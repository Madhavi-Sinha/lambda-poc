##
name: Deploy Lambda Function
on:
 push:
  branches: [ test ]
  
 pull_request:
  branches: [ test ]

jobs:
 deploy:
    runs-on: ubuntu-latest
    permissions:
      id-token: write
      contents: read
    defaults:
      run:
        shell: bash
    steps:
    
    
       - name: Checkout
         uses: actions/checkout@v3
        
       - name: Configure AWS Credentials
         uses: aws-actions/configure-aws-credentials@v1
         with:
          role-to-assume: ${{ secrets.AWS_ROLE }}  
          aws-region: ${{ secrets.AWS_REGION }} 
          
          
       - uses: actions/setup-node@v2
         with:
          node-version: "14"
  
       - name: Checkout
         uses: actions/checkout@v3
         
       - name: AWS Deploy
         run: |
             cd demo/
             zip -r9 check.zip first.py |

             aws lambda update-function-code --function-name lambda-github-function --zip-file fileb://demo/check.zip
             
        
            
        
          
          
  
     
